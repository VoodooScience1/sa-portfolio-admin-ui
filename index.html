<!doctype html>
<html>
	<head>
		<title>Admin</title>
		<link rel="stylesheet" href="/assets/css/nav.css" />
		<link rel="stylesheet" href="/assets/css/style.css" />
		<script src="/assets/script/nav-close.js" defer></script>
		<script src="/assets/script/nav-marker.js" defer></script>
		<script src="/assets/script/breadcrumbs.js" defer></script>
		<script src="/admin-assets/script/cms-portal.js" defer></script>
	</head>

	<body>
		<div id="nav-placeholder"></div>
		<div id="cms-status-strip"></div>
		<div id="cms-banner"></div>
		<nav class="breadcrumbs" aria-label="Breadcrumb"></nav>
		<div id="cms-portal"></div>
		<footer>
			<div id="footer-placeholder"></div>
		</footer>

		<script>
			window.addEventListener("DOMContentLoaded", () => {
				fetch("/assets/partials/nav.html")
					.then((r) => r.text())
					.then((html) => {
						document.getElementById("nav-placeholder").innerHTML = html;
						if (window.setActiveNav) window.setActiveNav();
						if (window.whenNavReady) {
							window.whenNavReady(() => {
								if (window.buildBreadcrumbs) window.buildBreadcrumbs();
							});
						} else if (window.buildBreadcrumbs) {
							window.buildBreadcrumbs();
						}
					})
					.catch((err) => console.error("Nav load failed:", err));

				fetch("/assets/partials/footer.html")
					.then((r) => r.text())
					.then((html) => {
						document.getElementById("footer-placeholder").innerHTML = html;
					})
					.catch((err) => console.error("Footer load failed:", err));
			});
		</script>
	</body>
</html>
